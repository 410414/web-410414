<html>
<head>
    <title>翻牌記憶遊戲</title>
    <style>
        #board {
            display: grid;
            grid: repeat(3,90px) / repeat(4,90px);
        }
        .card {
            width:80px;
        }
    </style>
    <script>
        function pickCard() {
            var card=event.target;
            if(p1<0) {
                p1=card.num;
                card.src=`pic/${p1}.png`;
            } else if(p2<0) {
                p2=card;
                card.src=`pic/${p2.num}.png`;
                if(p1.num == p2.num) {
                p1=-1; p2=-1;
                pairs++;
            } else {
                setTimeout(()=>{
                    p1.src="pic/Q.png";
                    p2.src="pic/Q.png";
                    p1=-1; p2=-1;
                },1000);
            }
        }
    }
        function gamestart() {
            pairs=0;
            p1=-1; p2=-1;
            var cards=[1,1,2,2,3,3,4,4,5,5,6,6];
            cards.sort(()=>{return MATH.random()-0.5});

            var board=document.getElementById("board");
            Array.from(board.children).foreach((a)=>{board.removeChild(a);});

            cards.foreach((n)=>{
                var a=document.createElement("ing");
                a.className="card";
                a.src="pic/Q.png";
                a.num=n;
                a.addEventListener("click",pickCard);
                board.appendChild(a);
        });

        setTimeout(()=>{
            Array.from(document.getElementsByClassName("card")).forEach((a)=>{
                a.src="pic/Q.png";
            });
        },3000);
    }
    </script>
</head>
<body>
    <div id="board"></div>
    <button onclick="gamestart();">遊戲開始</button>
</body>
</html>
    